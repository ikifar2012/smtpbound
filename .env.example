## Docker environment for smtpbound

# SMTP listener inside container
SMTP_HOST=0.0.0.0
SMTP_PORT=25
SMTP_SECURE=false # set to true to run implicit TLS (SMTPS) on the port

# TLS (PEM files) mounted into the container at /certs
# In docker-compose, mount your certs with:  - /local/certs:/certs:ro
TLS_KEY_PATH=/certs/privkey.pem
TLS_CERT_PATH=/certs/fullchain.pem
# Optional: enforce minimum TLS version (e.g., TLSv1.2)
# TLS_MIN_VERSION=TLSv1.2

# Inbound API
INBOUND_API_KEY=your_inbound_api_key_here

# Optional default From when incoming message lacks From
# DEFAULT_FROM=Relay <relay@example.com>

# SMTP AUTH (disabled by default)
# Enable AUTH (PLAIN/LOGIN) support
SMTP_AUTH_ENABLED=false
# Credentials to accept
# SMTP_AUTH_USER=relayuser
# SMTP_AUTH_PASS=strongpassword
# Allow AUTH over plaintext connections (not recommended). If false, requires TLS.
SMTP_AUTH_ALLOW_INSECURE=false

# If terminating TLS at a trusted reverse proxy (e.g., SWAG/NGINX), set this to true
# to allow AUTH without local TLS certs on this service. Only use if the SMTP
# connection from the client to the proxy is secured and the proxy is on a trusted network.
SMTP_TRUST_PROXY_TLS=false

## --- Recommended settings when using a reverse proxy (e.g., SWAG) to terminate TLS ---
# Keep the service plaintext internally and trust TLS at the proxy edge
# SMTP_SECURE=false
# Do not set TLS_KEY_PATH or TLS_CERT_PATH
# SMTP_TRUST_PROXY_TLS=true
# Enforce auth over proxy-terminated TLS
# SMTP_AUTH_ENABLED=true
# SMTP_AUTH_ALLOW_INSECURE=false
# SMTP_AUTH_USER=relayuser
# SMTP_AUTH_PASS=strongpassword
